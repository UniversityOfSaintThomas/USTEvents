<!--
 - Created by dahl3702 on 10/30/2018.
 -->

<apex:page id="USTEventHostAssignment" showHeader="false" sideBar="false" standardController="UST_Event_Appointments__c" extensions="USTEventHostAssignementExtension">
    <apex:form id="assignHost">


        <apex:pageBlock title="Assign Hosts">
            <apex:pageMessages />
            <apex:pageBlockSection title="Event and appointment information" columns="1">
                <table>
                    <tr>
                        <td>
                            Event:
                        </td>
                        <td>
                                {!UST_Event_Appointments__c.Event_Registration__r.Event_Instance__r.Event_Name__c}
                        </td>
                    </tr>
                </table>
            </apex:pageBlockSection>
            <apex:pageBlockSection title="Host type" columns="1">
                <apex:dataTable value="{!listHost}" var="host" id="theTable" rowClasses="odd,even" styleClass="tableClass">
                    <apex:column >
                        <apex:facet name="header">Assign</apex:facet>
                        <apex:commandLink value="ASSIGN" action="{!assignHost}">
                            <apex:param name="ASSIGN HOST"
                                        value="{!host.id}"
                                        assignTo="{!hostId}"/>
                        </apex:commandLink>
                    </apex:column>

                    <apex:column >
                        <apex:facet name="header">Owner</apex:facet>
                        <apex:outputText value="{!host.Last_Name__c + ', ' + host.First_Name__c}"/>
                    </apex:column>

                </apex:dataTable>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
</apex:page>